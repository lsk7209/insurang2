# Cloudflare Workers/Pages 설정
name = "insurang-landing"
compatibility_date = "2024-01-01"
# Next.js output: 'export' 사용 시 빌드 출력 디렉토리는 'out'
# Cloudflare Pages는 자동으로 'out' 디렉토리를 인식합니다
pages_build_output_dir = "out"

# D1 데이터베이스 바인딩
[[d1_databases]]
binding = "DB"
database_name = "insurang-db"
database_id = "62f0fdda-f6db-4627-91ce-49825760998b"

# Cron Triggers (일일 리포트)
# 
# 방법 1: Cloudflare Dashboard에서 설정 (권장)
# 1. Cloudflare Dashboard > Workers & Pages > Pages > insurang-landing
# 2. Settings > Functions > Cron Triggers
# 3. Add Cron Trigger 클릭
# 4. Schedule: "0 9 * * *" (매일 오전 9시 UTC)
# 5. Worker: functions/_worker.ts 선택
#
# 방법 2: 별도 Worker로 배포
# wrangler deploy --name insurang-cron --compatibility-date 2024-01-01
#
# 참고: Pages Functions의 Cron은 functions/_worker.ts의 scheduled 핸들러를 사용합니다.
# Cloudflare Dashboard에서 Cron Triggers 설정 필요:
# 1. "*/10 * * * *" - 10분마다: 시퀀스 메시지 발송
# 2. "0 9 * * *" - 매일 오전 9시: 일일 리포트
# 
# 별도 Worker로 배포 시 아래 주석 해제:
# [[triggers.crons]]
# cron = "*/10 * * * *"  # 10분마다: 시퀀스 메시지 발송
# 
# [[triggers.crons]]
# cron = "0 9 * * *"  # 매일 오전 9시 (UTC): 일일 리포트

# 환경 변수 설정
# 
# 로컬 개발용: .dev.vars 파일에 설정
# 프로덕션/프리뷰: Cloudflare Dashboard > Pages > Settings > Environment Variables에서 설정
#
# 참고: Cloudflare Pages는 [env.development]를 지원하지 않습니다.
# 로컬 개발 시에는 .dev.vars 파일을 사용하세요.
#
# 예시 .dev.vars 파일 내용:
# RESEND_API_KEY=your-resend-api-key
# SMTP_FROM=noreply@example.com
# SOLAPI_API_KEY=your-api-key
# SOLAPI_API_SECRET=your-api-secret
# SOLAPI_SENDER_PHONE=01012345678

